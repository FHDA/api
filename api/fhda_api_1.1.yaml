swagger: '2.0'
info:
  description: Initial API for FHDA
  version: "1.1.1"
  title: FHDA API

  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html

# tags are used for organizing operations
tags:
- name: admins
  description: Secured Admin-only calls

paths:
  /course_by_quarter:
    get:
      tags:
      - admins
      summary: get course info
      operationId: getCourseByQuarter
      description: |
        Search for course by quarter
      produces:
      - application/json
      parameters:
      - in: query
        name: quarter
        description: the quarter for searching
        type: string

      responses:
        200:
          description: search results matching criteria
          schema:
            type: array
            items:
              $ref: '#/definitions/CourseAcctD001A'
        400:
          description: bad input parameter
          
  /course_by_quarter_and_dept:
    get:
      tags:
      - admins
      summary: get course info
      operationId: getCourseByQuarterAndDept
      description: |
        Search for course by inputing both quarter and department name
      produces:
      - application/json
      parameters:
      - in: query
        name: quarter
        description: the quarter for searching
        type: string
      - in: query
        name: dept
        description: the department name for searching
        type: string

      responses:
        200:
          description: search results matching criteria
          schema:
            type: array
            items:
              $ref: '#/definitions/CourseAcctD001A'
        400:
          description: bad input parameter
          
  /get_dept:
    get:
      tags:
      - admins
      summary: get deptartment info
      operationId: getDept
      description: |
        Search for department given input department name
      produces:
      - application/json
      parameters:
      - in: query
        name: deptName
        description: the department name for searching
        type: string
      responses:
        200:
          description: search results matching criteria
          schema:
            type: array
            items:
              $ref: '#/definitions/DepartmentAcct'
        400:
          description: bad input parameter
          
  /add_course:
    post:
      tags:
      - admins
      summary: adds a course
      operationId: addCourse
      description: Adds a course to the system
      parameters:
      - in: body
        name: course
        description: course object to add
        schema:
          $ref: '#/definitions/CourseAcctD001A'
      responses:
        201:
          description: course created
        400:
          description: invalid input, object invalid
        409:
          description: an existing course already exists
          
###############################DEFINITIONS####################################
definitions:
  CourseAcctD001A:
    type: object
    required:
    - crn
    - courseName
    - instructorName
    - Dates
    - Time
    properties:
      crn:
        type: string
        format: uuid
        example: 00002
      courseName:
        type: string
        example: FINAN ACCOUNTNG I
      courseNum:
        type: string
        example: D001A
      startDate:
        type: string
        format: date
        example: 09/02
      endDate:
        type: string
        format: date
        example: 12/12
      startTime:
        type: string
        example: 8:00 am
      endTime:
        type: string
        example: 10:00 am
      capacity:
        type: integer
        example: 40
      wl_capacity:
        type: integer
        example: 10
      active:
        type: array
        items:
          type: integer
          format: int32
          example: 0, 0, 1, 13
          
      wl_active:
        type: array
        items:
          type: integer
          format: int32
          example: 0, 0, 0, 0
      fetchTime:
        type: array
        items:
          type: string
          format: date-time
          example: 2018-07-02T15:00:00Z, 2018-07-02T18:00:00Z, 
                            2018-07-03T15:00:00Z, 2018-07-03T18:00:00Z
      instructor:
        $ref: '#/definitions/InstructorFarshod'
      department:
        $ref: '#/definitions/DepartmentAcct/properties/dept_name'
        
  CourseCSD022A:
    type: object
    required: 
    - crn
    - courseName
    - instructorName
    - Dates
    - Time
    properties: 
      crn:
        type: string
        format: uuid
        example: 44663
      courseName:
        type: string
        example: Beginning Programming Methodologies in C++
      courseNum:
        type: string
        example: D022A
      startDate:
        type: string
        format: date
        example: 04/09
      endDate:
        type: string
        format: date
        example: 06/29
      startTime:
        type: string
        example: 08:00 pm
      endTime:
        type: string
        example: 09:50 pm
      capacity:
        type: integer
        example: 40
      wl_capacity:
        type: integer
        example: 10
      active:
        type: array
        items:
          type: integer
          format: int32
          example: 0, 20, 27, 40
      wl_active:
        type: array
        items:
          type: integer
          format: int32
          example: 0, 0, 0, 10
      fetchTime:
        type: array
        items:
          type: string
          format: date-time
          example: 2018-03-02T15:00:00Z, 2018-03-02T18:00:00Z, 
                            2018-04-03T15:00:00Z, 2018-05-03T18:00:00Z
                            
  CoursePhysicsD004A:
    type: object
    required: 
    - crn
    - courseName
    - instructorName
    - Dates
    - Time
    properties: 
      crn:
        type: string
        format: uuid
        example: 02076
      courseName:
        type: string
        example: PHYS SCIENT/ENG:MECHANCS
      courseNum:
        type: string
        example: D004A
      days:
        type: string
        example: MTWRF
      startDate:
        type: string
        format: date
        example: 09/20
      endDate:
        type: string
        format: date
        example: 12/10
      startTime:
        type: string
        example: 09:30 am
      endTime:
        type: string
        example: 12:15 pm
      capacity:
        type: integer
        example: 40
      wl_capacity:
        type: integer
        example: 10
      active:
        type: array
        items:
          type: integer
          format: int32
          example: 0, 20, 27, 40
      wl_active:
        type: array
        items:
          type: integer
          format: int32
          example: 0, 0, 0, 10
      fetchTime:
        type: array
        items:
          type: string
          format: date-time
          example: 2018-03-02T15:00:00Z, 2018-03-02T18:00:00Z, 
                            2018-04-03T15:00:00Z, 2018-05-03T18:00:00Z

  InstructorFarshod:
    required:
    - name
    properties:
      name:
        type: string
        example: Mosh,Farshod 
      email:
        type: string
        example: moshfarshod@fhda.edu
      phone:
        type: string
        example: 1234567890
        
  InstructorLuna:
    required:
    - name
    properties:
      name:
        type: string
        example: Eduardo,F,Luna
      email:
        type: string
        example: eduardoluna@fhda.edu
      phone:
        type: string
        example: 3213123133
        
  DepartmentAcct:
    required:
    - dept_name
    properties:
      dept_name:
        type: string
        example: ACCT
      courses:
        type: array
        example: 00002, 00004
      instructors:
        type: array
        example: Accounting Instructor, Accounting Professor
        
  LabPhysicsD004A:
    required:
    - uid
    properties:
      uid:
        type: string
        example: 02076L
      days:
        type: string
        example: W
      startDate:
        type: string
        format: date
        example: 09/20
      endDate:
        type: string
        format: date
        example: 12/10
      startTime:
        type: string
        example: 09:30 am
      endTime:
        type: string
        example: 12:15 pm
      instructor:
        $ref: '#/definitions/InstructorLuna'
      location:
        type: string
        example: DA S11
        
# Added by API Auto Mocking Plugin
host: virtserver.swaggerhub.com
basePath: /yifeili98/FHDA_Incubator/1.1.0
schemes:
 - https